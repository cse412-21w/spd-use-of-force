{"version":3,"sources":["NicoleViz.js"],"names":["container","race","uof_percent","height","width","margin","top","right","bottom","left","dataArray","uof_percet","pop_percent","difference","d3","csv","by_race","then","data","forEach","d","push","map","makeViz","x","scaleBand","domain","range","y","scaleLinear","select","append","attr","bars","selectAll","join","bandwidth","style","xAxis","call","axisBottom","text","yAxis","axisLeft","dropdown","insert","on","dropdownChange","cereals","enter","toUpperCase","slice","length","newCereal","property","newData","cerealMap","updateBars","update","u","merge","transition","duration"],"mappings":"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","file":"NicoleViz.f3b68a01.js","sourceRoot":"..\\src","sourcesContent":["//import data\r\nimport by_race from '../static/by_race.csv'\r\n\r\n//set up height, width, margin\r\nvar container;\r\nvar race;\r\nvar uof_percent;\r\nvar height = 700;\r\nvar width = 950;\r\nvar margin = ({top: 10, right: 10, bottom: 35, left: 35});\r\nvar dataArray = [];\r\nvar uof_percet = [];\r\nvar pop_percent = [];\r\nvar difference = [];\r\n\r\nd3.csv(by_race).then(function(data) {\r\n  data.forEach(function(d){\r\n    dataArray.push(d);\r\n  })\r\n  uof_percent = dataArray.map(d => d.uof_percent);\r\n  pop_percent = dataArray.map(d => d.pop_percent);\r\n  difference = dataArray.map(d => d.difference);\r\n  makeViz();\r\n});\r\n\r\nfunction makeViz() {\r\n  // scale functions\r\n  var x = d3.scaleBand()\r\n    .domain(dataArray.map(d => d.race))\r\n    .range([margin.left, width - margin.right]);\r\n\r\n  var y = d3.scaleLinear() \r\n    .domain([-1, 1])\r\n    .range([height - margin.bottom, margin.top]);\r\n\r\n  container = d3.select('#staticBar')\r\n      .append('svg')\r\n        .attr(\"id\", \"basic-chart\")\r\n        .attr('width', width)\r\n        .attr('height', height)\r\n      .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n  \r\n  var bars = container\r\n      .append('svg')\r\n      .selectAll('rect')\r\n      .data(dataArray)\r\n      .join('rect')\r\n      .attr('x', d => x(d.race))  \r\n      .attr('y', d => (y(d.uof_percent)))\r\n      .attr('width', x.bandwidth())\r\n      .attr('height', d => height / 2 - y(d.uof_percent))\r\n      \r\n      .style('fill', 'steelblue')\r\n      .style('stroke', 'white');\r\n\r\n  // position and populate the x-axis\r\n  var xAxis = container.append('g')\r\n      .attr('transform', `translate(0, ${height - margin.bottom})`)\r\n      .call(d3.axisBottom(x))\r\n      .append('text')\r\n      .attr('text-anchor', 'end')\r\n      .attr('fill', 'white')\r\n      .attr('font-size', '12px')\r\n      .attr('font-weight', 'bold')\r\n      .attr('x', width - margin.right)\r\n      .attr('y', height / 2)\r\n      .text('total UOF Percents');     \r\n\r\n// position and populate the y-axis\r\n  var yAxis = container.append('g')\r\n      .attr('transform', `translate(${margin.left}, 0)`)\r\n      .call(d3.axisLeft(y));\r\n\r\n  var dropdown = d3.select(\"#dropDown\")\r\n    .insert(\"select\", \"svg\")\r\n    .on(\"change\", dropdownChange);\r\n\r\n  dropdown.selectAll(\"option\")\r\n      .data(cereals)\r\n    .enter().append(\"option\")\r\n      .attr(\"value\", function (d) { return d; })\r\n      .text(function (d) {\r\n          return d[0].toUpperCase() + d.slice(1,d.length); // capitalize 1st letter\r\n      });\r\n  \r\n  var dropdownChange = function() {\r\n    var newCereal = d3.select(this).property('value'),\r\n        newData   = cerealMap[newCereal];\r\n\r\n    updateBars(newData);\r\n  };\r\n\r\n}\r\n\r\n\r\n\r\nfunction update(data) {\r\n  var y = d3.scaleLinear() \r\n    .domain([-1, 1])\r\n    .range([height - margin.bottom, margin.top]);\r\n\r\n  var u = container.selectAll(\"rect\")\r\n    .data(data);\r\n    \r\n  u\r\n    .enter()\r\n    .append(\"rect\")\r\n    .merge(u)\r\n    .transition()\r\n    .duration(1000)\r\n      .attr(\"y\", y(data))\r\n      .attr(\"height\", height / 2 - y(data))\r\n\r\n\r\n}"]}